/*! 
 * angular-loading-bar v0.6.0
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2014 Wes Cruver
 * License: MIT
 */
!function(){"use strict"
    angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var a=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(a,n,t,r,i){function c(){t.cancel(d),i.complete(),s=0,l=0}function o(a){var t,r=n.get("$http"),i=e.defaults
        !a.cache&&!i.cache||a.cache===!1||"GET"!==a.method&&"JSONP"!==a.method||(t=angular.isObject(a.cache)?a.cache:angular.isObject(i.cache)?i.cache:r)
        var c=void 0!==t?void 0!==t.get(a.url):!1
        return void 0!==a.cached&&c!==a.cached?a.cached:(a.cached=c,c)}var d,l=0,s=0,u=i.latencyThreshold
        return{request:function(e){if(!e.ignoreLoadingBar&&!o(e)){r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(d=t(function(){i.start()},u)),l++
            var a=i.status(),n=s/l
            i.set(a>n?a:n)}return e},response:function(e){if(!e.config.ignoreLoadingBar&&!o(e.config))if(s++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),s>=l)c()
        else{var a=i.status(),n=s/l
            i.set(a>n?a:n)}return e},responseError:function(e){if(!e.config.ignoreLoadingBar&&!o(e.config))if(s++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),s>=l)c()
        else{var n=i.status(),t=s/l
            i.set(n>t?n:t)}return a.reject(e)}}}]
        e.interceptors.push(a)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,a,n,t){function r(){s||(s=e.get("$animate"))
        var r=a.find(h).eq(0)
        n.cancel(f),m||(t.$broadcast("cfpLoadingBar:started"),m=!0,S&&s.enter(g,r),$&&s.enter(v,r),i(b))}function i(e){if(m){var a=100*e+"%"
        p.css("width",a),B=e,n.cancel(u),u=n(function(){c()},250)}}function c(){if(!(o()>=1)){var e=0,a=o()
        e=a>=0&&.25>a?(3*Math.random()+3)/100:a>=.25&&.65>a?3*Math.random()/100:a>=.65&&.9>a?2*Math.random()/100:a>=.9&&.99>a?.005:0
        var n=o()+e
        i(n)}}function o(){return B}function d(){B=0,m=!1}function l(){s||(s=e.get("$animate")),t.$broadcast("cfpLoadingBar:completed"),i(1),n.cancel(f),f=n(function(){var e=s.leave(g,d)
        e&&e.then&&e.then(d),s.leave(v)},500)}var s,u,f,h=this.parentSelector,g=angular.element(this.loadingBarTemplate),p=g.find("div").eq(0),v=angular.element(this.spinnerTemplate),m=!1,B=0,$=this.includeSpinner,S=this.includeBar,b=this.startSize
        return{start:r,set:i,status:o,inc:c,complete:l,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()