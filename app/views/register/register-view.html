<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!-- 用户注册 -->
<article class="logininfo">
    <div class="login-tip">
        <h3>欢迎进入移动影院</h3>
    </div>
    <form name="form" novalidate>
        <div class="sj-input">
            <input name="mobile" type="tel" ng-model="mobile" ng-pattern="mobileRE" ng-change="mobileErr=false" placeholder="仅支持移动手机用户" class="sj-paynum" required>
            <span ng-show="!mobileErr && form.mobile.$dirty && form.mobile.$invalid" class="input-info">请输入11位移动手机号码</span>
            <span ng-show="mobileErr" class="input-info">手机号码错误</span>
        </div>

        <div class="sj-input">
            <input type="text" name="captcha" ng-model="captcha" ng-pattern="captchaRE" ng-change="captchaErr=false" placeholder="请输入验证码" class="sj-yzmp" required>
            <span class="sj-yzbtn" style="background-color:#22252d; padding-top:0;padding-bottom: 0"><img ng-click="refreshCaptcha()" id="login-captcha-img" ng-src="/ImageCaptchaServlet.servlet?ran={{captchaSrc}}"></span>
            <div style="clear:both"></div>
            <span ng-show="!captchaErr && form.captcha.$dirty && form.captcha.$invalid" class="input-info">请输入4位验证码</span>
            <span ng-show="captchaErr" class="input-info">验证码错误</span>
        </div>

        <div class="sj-input">
            <input name="SMSCode" ng-model="SMSCode" ng-pattern="SMSCodeRE" ng-change="SMSCodeErr=false" type="text" placeholder="6位数字和字母，区分大小写" class="sj-yzmp" required>
            <input type="button" class="sj-yzbtn" value="{{SMSbtnInfo}}" ng-click="getSMSCode()">
            <div style="clear:both"></div>
            <span ng-show="!SMSCodeErr && form.SMSCode.$dirty && form.SMSCode.$invalid" class="input-info">6位数字和字母，区分大小写</span>
            <span ng-show="SMSCodeErr" class="input-info">验证码错误</span>
        </div>
        <div class="sj-input">
            <input name="password" ng-model="password" ng-pattern="pwdRegisterRE" type="password" placeholder="请输入注册密码" class="sj-paynum" required>
            <span ng-show="form.password.$dirty && form.password.$invalid" class="input-info">请输入8到25位字母和数字的组合</span>
        </div>
        <div class="sj-input">
            <input name="rePassword" ng-model="rePassword" type="password" placeholder="请再次输入密码" class="sj-paynum" required>
            <span ng-show="form.rePassword.$dirty && (rePassword!=password)" class="input-info">两次输入密码不同</span>
        </div>
        <!-- 用户协议 -->
        <div class="order-info deal">
            <input type="checkbox" ng-model="isAgreed">
            <label>
                我已经阅读并同意
                <a href="">《和视界用户服务协议》</a>
            </label>
        </div>
        <!-- button -->
        <div class="global-btn enter-btn">
            <input type="submit" class="enter-pay" ng-click="submit()" value="{{registerInfo}}" ng-disabled="form.$invalid || (password!=rePassword) || !isAgreed || submitDisabled">
        </div>
    </form>
    <div class="global-btn">
        <input type="button" class="next-pay" value="下次再说" ng-click="back()">
    </div>
</article>